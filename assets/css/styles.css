/* =========================================================
   UI VinculaciÃ³n â€” Paleta + TipografÃ­a Montserrat + Ink-Wipe + Loader
   ========================================================= */
*{box-sizing:border-box}
:root{
  /* Paleta (granate, verde, arena/dorado, grises) */
  --granate-1:#9b1b3f; --granate-2:#5b0e28;
  --verde-1:#1f6b60; --verde-2:#003d39;
  --arena-1:#d6c3a1; --arena-2:#b38a5a;
  --gris-1:#8f9497; --gris-2:#656d72;

  --bg:#f6f7fb; --surface:#ffffff; --surface-2:#f1f3f7;
  --text:#1d2433; --muted:#6b7280;
  --brand:var(--granate-1); --brand-2:#7f1735;
  --accent:var(--arena-2); --success:#1fa971; --danger:#dc2626;

  --radius:14px; --shadow:0 8px 30px rgba(12,23,41,.08);
  --ring:0 0 0 3px rgba(179,138,90,.25);

  --vt-d-old: 260ms;
  --vt-d-new: 320ms;
}

/* -------- TipografÃ­a general (Montserrat) -------- */
body{
  font-family: "Montserrat", Arial, sans-serif;
  font-weight: 400;
  margin:0; color:var(--text);
  background:
    radial-gradient(1200px 600px at 110% -10%, #eef2f8 0%, transparent 55%),
    radial-gradient(1100px 680px at -10% -20%, #eaf0f7 0%, transparent 55%),
    var(--bg);
}
h1,h2,h3,.brand,.topbar .title,.navlist a,button,input,label{
  font-family:"Montserrat", Arial, sans-serif;
  font-weight:600;
}

/* -------- Topbar -------- */
.topbar{
  background:linear-gradient(180deg,var(--brand-2),var(--brand));
  color:#fff; border-bottom:3px solid var(--accent); box-shadow:var(--shadow);
}
.topbar .wrap{
  max-width:1280px; margin:0 auto; padding:14px 20px;
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:12px;
}
.brand{display:flex;align-items:center;gap:10px;font-size:1.3rem;font-weight:400}
.brand .dot{width:10px;height:10px;border-radius:999px;background:var(--accent)}
.topbar .title{text-align:center;font-size:1.1rem;letter-spacing:.3px}

/* -------- Layout + Sidebar -------- */
.layout{max-width:1280px;margin:24px auto 36px;padding:0 20px;
  display:grid;grid-template-columns:260px 1fr;gap:24px}
@media (max-width:980px){ .layout{grid-template-columns:1fr} }

.sidebar{position:sticky;top:16px;background:var(--surface);
  border:1px solid #e5e7eb;border-radius:16px;padding:14px;box-shadow:var(--shadow)}
.sidebar h2{margin:0 0 10px 0;color:var(--verde-2);font-size:1rem}
.navlist{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.navlist a{
  display:flex;align-items:center;gap:10px;text-decoration:none;
  background:var(--surface-2);border:1px solid #e5e7eb;border-radius:12px;
  padding:10px 12px;color:var(--brand);font-weight:500;
  transition:transform .12s,border-color .12s,background .12s,color .12s
}
.navlist a:hover{transform:translateY(-1px);border-color:#d7dce6}
.navlist a.active{background:#f8f3ec;color:var(--verde-2);
  border-color:#d5c3a7;box-shadow:inset 0 0 0 2px #e8dcc6}

/* -------- Page & Titles -------- */
.page h1{font-size:2.2rem;color:var(--granate-1);margin:4px 0 18px;font-weight:600}

/* -------- Mensajes -------- */
.mensaje{background:#eef9f3;color:#0b3a1c;border:1px solid #cfe9d8;
  padding:12px 16px;border-radius:10px;margin:0 0 18px;text-align:center;
  font-weight:400;box-shadow:var(--shadow)}
.mensaje.error{background:#fdecec;color:#6e1212;border:1px solid #f6c2c2}

/* -------- Cartas -------- */
.grid-secciones{display:grid;grid-template-columns:1fr;gap:22px}
.cuadro{background:var(--surface);border:1px solid #e5e7eb;
  border-left:6px solid var(--accent);border-radius:var(--radius);padding:18px;
  box-shadow:var(--shadow);display:flex;flex-direction:column;gap:14px}
.cuadro h3{margin:0 0 10px;padding-bottom:8px;border-bottom:2px solid #e9edf3;
  color:var(--brand);font-size:1.3rem;font-weight:600}

ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
ul li{background:var(--surface-2);border:1px solid #e5e7eb;border-radius:12px;
  padding:10px 12px;display:flex;align-items:center;justify-content:space-between;gap:10px;
  transition:border-color .15s,transform .15s}
ul li:hover{border-color:#d7dce6;transform:translateY(-1px)}
.file-left{display:flex;align-items:center;gap:10px}
.file-left .name{font-weight:500}
.file-left .name::before{content:"ðŸ“„";margin-right:6px}
.fecha{font-size:.78rem;color:var(--gris-2);background:#eef2f6;border:1px solid #e5e7eb;
  padding:4px 8px;border-radius:999px}

/* -------- Recuadro de subida -------- */
.upload-box{background:var(--surface-2);border:1px solid #e4e8f0;
  border-left:4px solid var(--accent);border-radius:14px;padding:14px;
  display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;
  box-shadow:0 6px 20px rgba(13,36,63,.06)}
.upload-label{grid-column:1 / -1;font-size:.92rem;color:var(--verde-2);margin-bottom:-2px}
.help-text{grid-column:1 / -1;margin-top:-4px;font-size:.85rem;color:var(--muted)}
.upload-error{border-color:#f1b4b4 !important;box-shadow:0 0 0 2px rgba(239,68,68,.12)}

/* -------- Inputs & Botones -------- */
input[type="file"]{width:100%;background:#fff;border:1px solid #d9dee8;
  border-radius:12px;padding:10px;font-size:.92rem}
input[type="file"]:focus{outline:none;box-shadow:var(--ring)}
input[type="file"]::file-selector-button{margin-right:12px;padding:9px 12px;border-radius:10px;
  cursor:pointer;background:linear-gradient(180deg,var(--verde-1),var(--verde-2));color:#fff}

button,.descargar,.eliminar{
  font-family:"Montserrat", Arial, sans-serif;display:inline-flex;align-items:center;gap:6px;
  border-radius:10px;padding:9px 14px;font-weight:500;border:none;
  cursor:pointer;transition:transform .12s}
button,.descargar{background:linear-gradient(180deg,var(--brand-2),var(--brand));color:#fff}
button:hover,.descargar:hover{transform:translateY(-1px)}
.eliminar{background:linear-gradient(180deg,#ef4444,var(--danger));color:#fff}
.eliminar:hover{transform:translateY(-1px)}

@media (max-width:560px){.upload-box{grid-template-columns:1fr}.upload-box button{width:100%}}

/* ====== FIX DE LAYOUT ====== */
.layout{ display:grid; grid-template-columns:280px minmax(0,1fr); gap:24px; align-items:start }
.sidebar{ grid-column:1 }
.page{ grid-column:2; min-width:0 }

/* ====== Fallback si no hay View Transitions ====== */
.page{ opacity:0; transform:translateY(10px); animation:fadeSlideIn .45s ease forwards }
@keyframes fadeSlideIn{
  0%{opacity:0; transform:translateY(10px)}
  100%{opacity:1; transform:translateY(0)}
}

/* Hover sidebar */
.navlist a{ transition:background-color .2s ease,color .2s ease,transform .2s ease }
.navlist a:hover{ transform:translateX(4px) }

/* ====== Cross-document View Transitions: INK-WIPE ====== */
@supports (view-transition-name: page) {
  body{ view-transition-name: page }
  .page{ animation:none !important; opacity:1 !important; transform:none !important }

  ::view-transition-old(page){ animation:vt-neutral-old var(--vt-d-old) ease forwards }
  ::view-transition-new(page){ animation:vt-neutral-new var(--vt-d-new) ease forwards }

  @keyframes vt-neutral-old{ from{opacity:1;transform:scale(1)} to{opacity:0;transform:scale(.995)} }
  @keyframes vt-neutral-new{ from{opacity:0;transform:scale(1.006)} to{opacity:1;transform:scale(1)} }

  html[data-vt-dir="forward"] ::view-transition-old(page){ animation:vt-wipe-old-fwd var(--vt-d-old) cubic-bezier(.2,.6,.3,1) forwards }
  html[data-vt-dir="forward"] ::view-transition-new(page){ animation:vt-wipe-new-fwd calc(var(--vt-d-new) + 40ms) cubic-bezier(.2,.6,.3,1) forwards }

  @keyframes vt-wipe-old-fwd{ 0%{opacity:1;clip-path:inset(0 0 0 0)} 100%{opacity:0;clip-path:inset(0 100% 0 0);filter:blur(.6px)} }
  @keyframes vt-wipe-new-fwd{
    0%{opacity:0;transform:translateX(8px) scale(1.006);clip-path:inset(0 0 0 100%);box-shadow:0 0 0 9999px rgba(179,138,90,.06) inset}
    60%{opacity:1}
    100%{opacity:1;transform:translateX(0) scale(1);clip-path:inset(0);box-shadow:none}
  }

  html[data-vt-dir="backward"] ::view-transition-old(page){ animation:vt-wipe-old-back var(--vt-d-old) cubic-bezier(.2,.6,.3,1) forwards }
  html[data-vt-dir="backward"] ::view-transition-new(page){ animation:vt-wipe-new-back calc(var(--vt-d-new) + 40ms) cubic-bezier(.2,.6,.3,1) forwards }

  @keyframes vt-wipe-old-back{ 0%{opacity:1;clip-path:inset(0)} 100%{opacity:0;clip-path:inset(0 0 0 100%);filter:blur(.6px)} }
  @keyframes vt-wipe-new-back{
    0%{opacity:0;transform:translateX(-8px) scale(1.006);clip-path:inset(0 100% 0 0);box-shadow:0 0 0 9999px rgba(179,138,90,.06) inset}
    60%{opacity:1}
    100%{opacity:1;transform:translateX(0) scale(1);clip-path:inset(0);box-shadow:none}
  }
}

/* ====== Loader Overlay ====== */
#page-loader{
  position:fixed; inset:0; display:none; place-items:center; z-index:9999;
  background:rgba(29,36,51,.22);
  backdrop-filter:saturate(120%) blur(2px);
}
#page-loader.show{ display:grid; }
.loader-box{
  background:var(--surface); border:1px solid #e5e7eb; border-radius:16px;
  padding:16px 18px; box-shadow:var(--shadow); display:flex; align-items:center; gap:12px;
}
.spinner{
  width:26px; height:26px; border-radius:999px;
  border:3px solid #e5e7eb; border-top-color:var(--granate-1);
  animation:spin 800ms linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg) } }
.loader-text{ font-size:.95rem; color:var(--verde-2); }

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .page, ::view-transition-old(page), ::view-transition-new(page), .spinner{ animation:none !important }
}
